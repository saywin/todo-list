{% extends "base.html" %}

{% block title %}
	<title>Task List</title>
{% endblock %}

{% block content %}
	<div class="header">
		<h1>TODO List</h1>
		<a class="btn btn-primary task-btn-create"
		   href="{% url "web:task-create" %}">
			Add Task
		</a>
	</div>
	<div class="tasks">
		{% for task in task_list %}
			<div class="task-content">
				<div>
					<p><b>{{ task.content }}</b>
						{% if task.is_done %}
							<span class="task-done">
							Done
						</span>
						{% else %}
							<span class="task-not-done">
							Not Done
						</span>
						{% endif %}
					</p>
					<p>Created: {{ task.datetime }}
						{% if task.deadline %}
							Deadline: {{ task.deadline }}
						{% endif %}
					</p>
					<p>{% for tag in task.tags.all %}
						Tags: {{ tag }}
						<a href="{% url "web:task-update" pk=task.pk %}">
							Update
						</a> |
						<a href="{% url "web:task-delete" pk=task.pk %}">
							Delete
						</a>
					</p>
				</div>
						{% if task.is_done %}
							<a href="{% url "web:task-status" pk=task.pk %}"
							   class="btn btn-secondary task-btn-complete">
								Undo
							</a>
						{% else %}
							<a href="{% url "web:task-status" task.id %}"
							   class="btn btn-success task-btn-complete">
								Complete
							</a>
						{% endif %}
				{% endfor %}
			</div>
			<hr>
		{% endfor %}
	</div>

{% endblock %}